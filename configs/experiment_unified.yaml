# Unified Experimental Configuration
# Version: 1.0
# Date: 2025-12-27
# Purpose: Single source of truth for multiframework experiments

metadata:
  version: "1.0"
  run_id: "20251227_multiframework_baseline"
  description: "Baseline multiframework execution for beneficial quantum noise study"
  author: "Research Team"
  date: "2025-12-27"

# Reproducibility: Seeds for all randomness sources
seeds:
  global: 42  # Master seed
  frameworks:
    pennylane: [42, 43]  # Multiple seeds for statistical robustness
    qiskit: [42, 43]
    cirq: [42, 43]
  numpy_seed: 42
  random_seed: 42
  torch_seed: 42  # If using PyTorch

# Experimental Design: Factors and Levels
experimental_design:
  # Datasets to evaluate (classical ML datasets)
  datasets:
    - name: "iris"
      n_features: 4
      n_classes: 3
      n_samples: 150
    - name: "wine"
      n_features: 13
      n_classes: 3
      n_samples: 178
    - name: "digits"
      n_features: 64
      n_classes: 10
      n_samples: 1797
      preprocessing: "PCA"  # Reduce to n_qubits features
    - name: "breast_cancer"
      n_features: 30
      n_classes: 2
      n_samples: 569
      preprocessing: "PCA"
  
  # Noise models to test
  noise_models:
    - type: "depolarizing"
      description: "Depolarizing channel"
      gamma_values: [0.0, 0.001, 0.005, 0.01, 0.05, 0.1, 0.2]
    - type: "amplitude_damping"
      description: "Amplitude damping (T1 decoherence)"
      gamma_values: [0.0, 0.001, 0.005, 0.01, 0.05, 0.1]
    - type: "phase_damping"
      description: "Phase damping (T2 dephasing)"
      gamma_values: [0.0, 0.001, 0.005, 0.01, 0.05, 0.1]
    - type: "bit_flip"
      description: "Bit flip errors"
      gamma_values: [0.0, 0.01, 0.05, 0.1]
    - type: "phase_flip"
      description: "Phase flip errors"
      gamma_values: [0.0, 0.01, 0.05, 0.1]
  
  # Circuit ans√§tze (parameterized quantum circuits)
  ansatze:
    - name: "simplified_two_local"
      description: "Simplified 2-local circuit"
      entanglement: "linear"
    - name: "hardware_efficient"
      description: "Hardware-efficient ansatz"
      entanglement: "sca"  # Single-circuit approximation
    - name: "strongly_entangling"
      description: "Strongly entangling layers"
      entanglement: "full"
    - name: "amplitude_embedding"
      description: "Amplitude encoding"
      entanglement: "full"
    - name: "angle_embedding"
      description: "Angle encoding"
      entanglement: "linear"
    - name: "basic_entangler"
      description: "Basic entangling layers"
      entanglement: "circular"
  
  # Noise schedules (dynamic noise injection)
  schedules:
    - name: "static"
      description: "Constant noise throughout training"
      formula: "gamma(t) = gamma_0"
    - name: "linear"
      description: "Linear decay"
      formula: "gamma(t) = gamma_0 * (1 - t/T)"
    - name: "exponential"
      description: "Exponential decay"
      formula: "gamma(t) = gamma_0 * exp(-t/tau)"
    - name: "cosine"
      description: "Cosine annealing"
      formula: "gamma(t) = gamma_0 * (1 + cos(pi*t/T)) / 2"

# Circuit Parameters
ansatz_params:
  n_qubits: 4  # Number of qubits
  depth: 2  # Circuit depth (layers)
  entanglement_type: "full"  # full, linear, circular, sca
  rotation_gates: ["RX", "RY", "RZ"]  # Single-qubit rotations
  entangling_gate: "CNOT"  # Two-qubit gate

# Optimizer Configuration
optimizer:
  name: "Adam"  # Adam, SGD, COBYLA, SPSA
  learning_rate: 0.01
  beta1: 0.9  # Adam parameter
  beta2: 0.999  # Adam parameter
  epsilon: 1.0e-08
  
# Training Configuration
training:
  epochs: 100
  batch_size: 32
  validation_split: 0.2
  test_split: 0.2
  
# Convergence Criteria
convergence:
  patience: 10  # Early stopping patience
  min_delta: 0.001  # Minimum improvement
  monitor: "val_loss"  # Metric to monitor
  
# Metrics to Collect
metrics:
  training:
    - "accuracy"
    - "loss"
    - "gradient_mean"
    - "gradient_variance"
  validation:
    - "accuracy"
    - "loss"
  test:
    - "accuracy"
    - "precision"
    - "recall"
    - "f1_score"
  circuit:
    - "depth"
    - "gate_count"
    - "two_qubit_gate_count"
    - "execution_time"
    
# Error Mitigation (TREX + AUEC)
error_mitigation:
  trex:
    enabled: true
    calibration_shots: 1000
    regularization: 0.001  # Tikhonov lambda
  auec:
    enabled: true
    batch_size: 10
    kalman_filter:
      process_noise: 0.001
      measurement_noise: 0.01
      initial_error_covariance: 1.0

# Framework-Specific Settings
frameworks:
  pennylane:
    device: "default.qubit"
    shots: null  # Analytic mode
    diff_method: "parameter-shift"
    interface: "autograd"
    
  qiskit:
    backend: "aer_simulator"
    shots: 1024
    optimization_level: 1
    noise_model: "ideal"  # or load from real hardware
    
  cirq:
    simulator: "density_matrix"
    shots: 1024
    noise_model: "custom"  # Define in code

# Output Configuration
output:
  results_dir: "results"
  logs_dir: "logs"
  figures_dir: "figures"
  manifests_dir: "manifests"
  
  # Output formats
  formats:
    metrics: "csv"
    summary: "csv"
    manifest: "json"
    logs: "txt"
    figures: ["png", "pdf"]
  
  # Logging level
  log_level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  
# Statistical Analysis
statistics:
  confidence_level: 0.95  # 95% confidence intervals
  multiple_comparison_correction: "bonferroni"
  effect_size_method: "cohen_d"
  power_analysis_target: 0.80
  
# Reproducibility Tracking
reproducibility:
  track_git_commit: true
  track_environment: true
  track_library_versions: true
  save_random_states: true

# Computational Resources
resources:
  max_parallel_jobs: 4
  memory_limit_gb: 16
  timeout_per_config_seconds: 3600  # 1 hour
  
# Quality Gates
quality_gates:
  min_test_accuracy: 0.5  # Above random chance
  max_execution_time_seconds: 1800  # 30 minutes
  max_circuit_depth: 100
  convergence_required: false  # Allow non-converged runs
